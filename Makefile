# -*- MakeFile -*-
#-------------------------------------------------------------------------------
#		User-modifiable options
#-------------------------------------------------------------------------------
SRC=./src
OBJ=./obj

#-------------------------------------------------------------------------------
#		Tools
#-------------------------------------------------------------------------------
CC = arm-none-eabi-gcc 
#-------------------------------------------------------------------------------
#		Files
#-------------------------------------------------------------------------------

# include folders
INCLUDES += -I./inc/

C_OBJECTS= $(OBJ)/TLC_2016B.o
C_OBJECTS+= $(OBJ)/TrafficLightController.o

#-------------------------------------------------------------------------------
#		Rules
#-------------------------------------------------------------------------------

C_FLAGS= -Wall -c -g $(INCLUDES)

#-------------------------------------------------------------------------------
#		Script
#-------------------------------------------------------------------------------

all: $(C_OBJECTS)

$(C_OBJECTS): $(SRC)/TLC_2016B.c $(SRC)/TrafficLightController.c
	@echo "start compiling"
	$(CC) $(C_FLAGS) -o $(OBJ)/TLC_2016B.o $(SRC)/TLC_2016B.c
	$(CC) $(C_FLAGS) -o $(OBJ)/TrafficLightController.o $(SRC)/TrafficLightController.c
	@echo "finished"

clean:
	rm -f $(OBJ)/*.o
